{% macro picture(path, sizes) %}
<picture>
    {% set default = 600 %}
    {% if sizes is iterable %}
        {% for size in sizes|slice(0, 6) %}
            <source media="(min-width: {{ size }}px)"
                    srcset="{{ asset(path) | imagine_filter('picture_macro', {'relative_resize': {'widen':  size}}) }} 1x,
                    {{ asset(path) | imagine_filter('picture_macro', {'relative_resize': {'widen':  (size * 2)}}) }} 2x">
            {% set default = size %}
        {% endfor %}
    {% else %}
        {% set default = sizes|default(600) %}
        <source media="(min-width: {{ default }}px)"
                srcset="{{ asset(path) | imagine_filter('picture_macro', {'relative_resize': {'widen':  default}}) }} 1x,
                {{ asset(path) | imagine_filter('picture_macro', {'relative_resize': {'widen':  (default * 2)}}) }} 2x">
    {% endif %}
    <img src="{{ asset(path) | imagine_filter('picture_macro', {'relative_resize': {'widen':  default}}) }}" alt="" style="width:auto;">
</picture>
{% endmacro %}
